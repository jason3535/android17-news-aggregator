# 分享功能说明

## 功能概述

新增的分享功能允许您轻松分享 Android 17 & iOS 27 新闻给同事和朋友。每个分享链接都带有"Nothing 竞品追踪"的特殊标识。

## 使用方法

### 1. 创建分享链接

在主页面的每条新闻卡片上，您会看到一个**"分享"**按钮：

1. 点击任意新闻卡片上的 **"分享"** 按钮
2. 系统会自动生成一个唯一的分享链接
3. 分享弹窗会显示生成的链接

### 2. 复制分享链接

在分享弹窗中：

1. 点击 **"复制"** 按钮
2. 链接会自动复制到剪贴板
3. 显示"✓ 链接已复制！"提示
4. 将链接分享给同事或朋友

### 3. 访问分享页面

收到分享链接的人可以：

1. 直接点击链接打开分享页面
2. 查看完整的新闻内容
3. 看到"Nothing 竞品追踪"的品牌标识
4. 点击"阅读全文"查看原始新闻源
5. 点击"查看更多新闻"访问完整的新闻列表

## 功能特性

### 分享页面特点

- ✓ **品牌标识**: 显著的"Nothing 竞品追踪"徽章
- ✓ **完整内容**: 包含新闻标题、摘要、图片
- ✓ **来源信息**: 显示新闻来源和发布日期
- ✓ **直达原文**: 一键跳转到原始新闻链接
- ✓ **响应式设计**: 完美支持手机和桌面浏览
- ✓ **社交分享**: 支持 Open Graph 标签（微信、Twitter等）

### 分享链接格式

```
http://your-domain.com/share/abc12345
```

- 每个分享链接都有唯一的 8 位标识符
- 分享数据永久保存在 `data/shares.json`
- 分享链接可重复访问

## API 端点

### 创建分享

```
POST /api/share
Content-Type: application/json

{
  "news_item": {
    "title": "新闻标题",
    "summary": "新闻摘要",
    "url": "原文链接",
    "image": "图片URL",
    "source": "来源",
    "date": "日期",
    "type": "news"
  }
}

响应：
{
  "share_id": "abc12345",
  "share_url": "http://domain.com/share/abc12345"
}
```

### 查看分享

```
GET /share/<share_id>
```

返回分享页面 HTML

## 技术实现

### 前端

- 在每条新闻卡片添加分享按钮
- 分享弹窗（模态框）显示链接
- 一键复制功能（支持现代浏览器和旧版浏览器降级）
- 响应式设计，移动端优化

### 后端

- Flask 路由处理分享创建和查看
- UUID 生成唯一分享 ID
- JSON 文件存储分享数据
- 模板渲染分享页面

### 样式

- 遵循 Nothing 品牌设计风格
- 黑白红配色方案
- Space Mono 字体
- 点阵背景装饰

## 数据存储

分享数据保存在 `data/shares.json`：

```json
{
  "abc12345": {
    "news_item": { ... },
    "created_at": "2026-02-15T07:25:00",
    "source": "Nothing 竞品追踪"
  }
}
```

## 浏览器兼容性

- ✓ Chrome / Edge (最新版)
- ✓ Firefox (最新版)
- ✓ Safari (最新版)
- ✓ 移动端浏览器 (iOS Safari, Chrome Mobile)

## 未来改进

可考虑添加的功能：

- [ ] 分享统计（点击量、访问时间）
- [ ] 分享链接过期时间设置
- [ ] 社交媒体快捷分享按钮
- [ ] 二维码生成
- [ ] 自定义分享图片/描述
- [ ] 分享链接管理后台

## 问题排查

### 分享按钮不显示

检查 JavaScript 控制台是否有错误

### 无法复制链接

- 确保浏览器支持 Clipboard API
- 尝试手动选择并复制链接
- 检查浏览器权限设置

### 分享页面 404

- 检查 `data/shares.json` 文件是否存在
- 确认分享 ID 是否正确
- 查看服务器日志

## 联系方式

如有问题或建议，请联系开发团队。
